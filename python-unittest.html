<!DOCTYPE html>
<html lang="zh"
>
<head>
    <title>Python Unittest - xgao's blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://idumpling.github.io/python-unittest.html">

        <meta name="author" content="Xin Gao" />
        <meta name="keywords" content="python,autotest,unittest" />
        <meta name="description" content="A simple guide about Python unittest" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://idumpling.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://idumpling.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://idumpling.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://idumpling.github.io/theme/css/style.css" type="text/css"/>

        <link href="http://idumpling.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="xgao's blog RSS Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://idumpling.github.io/" class="navbar-brand">
xgao's blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://idumpling.github.io/pages/about-me.html">
                             About Me
                          </a></li>
                        <li >
                            <a href="http://idumpling.github.io/category/life.html">Life</a>
                        </li>
                        <li class="active">
                            <a href="http://idumpling.github.io/category/tech.html">Tech</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://idumpling.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://idumpling.github.io/python-unittest.html"
                       rel="bookmark"
                       title="Permalink to Python Unittest">
                        Python Unittest
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-06-06T10:20:00"> Fri 06 June 2014</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://idumpling.github.io/tag/python.html">python</a>
        /
	<a href="http://idumpling.github.io/tag/autotest.html">autotest</a>
        /
	<a href="http://idumpling.github.io/tag/unittest.html">unittest</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>单元测试在软件开发中的重要性不言而喻，尤其是近些年敏捷开发以及DevOps理念的兴起，
更突显了在代码开发的过程中写单元测试的重要。</p>
<p>本文简单概述了 Python Unittest 的基本用法。
详细内容可以参考<a href="http://docs.python.org/2/library/unittest.html">官网</a></p>
<h1>What is Unit testing</h1>
<p>It’s an automated piece of code that invokes a different method <br />
and then checks some assumptions on the logical behavior of that method or class.</p>
<ul>
<li>It’s written using a unit-testing framework.</li>
<li>It can be written easily.</li>
<li>It runs quickly.</li>
<li>It can be executed repeatedly by anyone on the development team.
   -- The Art of Unit Testing</li>
</ul>
<h1>Test Driven Development</h1>
<ul>
<li>design methodology -&gt; artifacts for testing</li>
<li>short cycle repeated many times:</li>
<li>write a test</li>
<li>watch it fail</li>
<li>make it compile</li>
<li>make it pass</li>
<li>refactor the code</li>
<li>refactor the test (and elaborate)</li>
<li>rinse and repeat</li>
</ul>
<h1>unittest</h1>
<p><a href="http://docs.python.org/2/library/unittest.html">unittest-doc</a></p>
<ul>
<li>unittest — Unit testing framework   </li>
<li>The unittest test framework is python’s xUnit style framework.  </li>
<li>It is the foundation of automated testing in the Python world.  </li>
</ul>
<p>The Python unit testing framework, sometimes referred to as “PyUnit,”  <br />
is a Python language version of JUnit, by Kent Beck and Erich Gamma.  <br />
JUnit is, in turn, a Java version of Kent’s Smalltalk testing framework. <br />
Each is the de facto standard unit testing framework for  <br />
its respective language.</p>
<h1>Unittest: Basic example</h1>
<p>Here is a short script to test three functions from the random module:</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">unittest</span>


<span class="k">class</span> <span class="nc">TestSequenceFunctions</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_shuffle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># make sure the shuffled sequence does not lose any elements</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

        <span class="c"># should raise an exception for an immutable sequence</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_choice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">element</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>


<h1>Unittest: setUp()</h1>
<p>Method called to prepare the test fixture. <br />
This is called immediately before calling the test method;<br />
any exception raised by this method will be considered an error <br />
rather than a test failure. The default implementation does nothing.</p>
<h1>Unittest: tearDown()</h1>
<p>Method called immediately after the test method has been called <br />
and the result recorded. This is called even if the test method <br />
raised an exception, so the implementation in subclasses  <br />
may need to be particularly careful about checking internal state. <br />
Any exception raised by this method will be considered an error <br />
rather than a test failure. This method will only be called <br />
if the setUp() succeeds, regardless of the outcome of the test method.  <br />
The default implementation does nothing.</p>
<h1>assertXXX</h1>
<ul>
<li>assertEqual(a, b)</li>
<li>assertNotEqual(a, b)</li>
<li>assertTrue(x)</li>
<li>assertFalse(x)</li>
<li>assertIs(a, b)</li>
<li>assertIsNot(a, b)</li>
<li>assertIsNone(x)</li>
<li>assertIsNotNone(x)</li>
<li>assertIn(a, b)</li>
<li>assertNotIn(a, b) </li>
<li>assertIsInstance(a, b)</li>
<li>assertNotIsInstance(a, b) </li>
</ul>
<p>There are also other methods used to perform more specific checks, such as:</p>
<ul>
<li>assertAlmostEqual(a, b)</li>
<li>assertNotAlmostEqual(a, b)</li>
<li>assertGreater(a, b)</li>
<li>assertGreaterEqual(a, b)</li>
<li>assertLess(a, b)</li>
<li>assertLessEqual(a, b)</li>
<li>assertRegexpMatches(s, r)</li>
<li>assertNotRegexpMatches(s, r)</li>
<li>assertItemsEqual(a, b)</li>
<li>assertDictContainsSubset(a, b)</li>
</ul>
<h1>Command-Line Interface</h1>
<div class="highlight"><pre><span class="nv">$ </span>python -m unittest test_module1 test_module2
<span class="nv">$ </span>python -m unittest test_module.TestClass
<span class="nv">$ </span>python -m unittest test_module.TestClass.test_method
</pre></div>


<h1>Grouping tests</h1>
<p>class unittest.TestSuite(tests=())</p>
<p>example:</p>
<div class="highlight"><pre><span class="n">widgetTestSuite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">()</span>
<span class="n">widgetTestSuite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s">&#39;test_default_size&#39;</span><span class="p">))</span>
<span class="n">widgetTestSuite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s">&#39;test_resize&#39;</span><span class="p">))</span>
</pre></div>


<p>it is a good idea to provide in each test module a callable object that <br />
returns a pre-built test suite:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">()</span>
    <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s">&#39;test_default_size&#39;</span><span class="p">))</span>
    <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">(</span><span class="s">&#39;test_resize&#39;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">suite</span>
</pre></div>


<p>or even:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">tests</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;test_default_size&#39;</span><span class="p">,</span> <span class="s">&#39;test_resize&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">,</span> <span class="n">tests</span><span class="p">))</span>
</pre></div>


<p>or</p>
<div class="highlight"><pre><span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="n">WidgetTestCase</span><span class="p">)</span>
</pre></div>


<h1>Skipping tests and expected failures</h1>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">MyTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@unittest.skip</span><span class="p">(</span><span class="s">&quot;demonstrating skipping&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_nothing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;shouldn&#39;t happen&quot;</span><span class="p">)</span>
</pre></div>


<h1>Loading and running tests</h1>
<p>class unittest.TestLoader</p>
<p>TestLoader objects have the following methods:</p>
<ul>
<li>loadTestsFromTestCase(testCaseClass)  </li>
<li>loadTestsFromModule(module)  </li>
<li>loadTestsFromName(name, module=None)  </li>
<li>loadTestsFromNames(names, module=None)  </li>
<li>getTestCaseNames(testCaseClass)  </li>
<li>unittest.main   </li>
</ul>
<h1>Running with increased verbosity</h1>
<p>It is easy to adjust the test runner to print out every test method <br />
as it is run.</p>
<div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span> \
    <span class="n">RomanNumeralConverterTest</span><span class="p">)</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
</pre></div>


<h1>Exercises</h1>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">RomanNumeralConverter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digit_map</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;M&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span> <span class="s">&quot;D&quot;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span> <span class="s">&quot;L&quot;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span> <span class="s">&quot;X&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s">&quot;V&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s">&quot;I&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">convert_to_decimal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">roman_numeral</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">roman_numeral</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">digit_map</span><span class="p">[</span><span class="n">char</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">val</span>
</pre></div>


<h1>Nose</h1>
<p><a href="https://nose.readthedocs.org/en/latest/">nose-doc</a></p>
<p>Nose is nicer testing for python.
nose extends unittest to make testing easier.</p>
<p>unittest comes with the standatd library, but I would recomend you nosetests.<br />
"nose extends unittest to make testing easier."</p>
<p>"nosetests example_unit_test.py" - to execute a single file of tests
"nosetests /path/to/tests" - to execute a suite of tests in a folder</p>
<p>nose isn't really a unit testing framework. <br />
It's a test runner and a great one at that. <br />
It can run tests created using pyUnit, py.test or doctest.</p>
<h1>What does nose offer that unittest does not?</h1>
<ul>
<li>automatic test discovery and a useful plugin API.  </li>
<li>There are many nose plugins that provide everything from specially  <br />
formatted test reports to integration with other tools.</li>
<li>Do not need write runner(such as unittest.main())</li>
<li>Nose is extensible</li>
<li>Nose is embeddable</li>
</ul>
<h1>Nose options</h1>
<p>Some useful command line options that you may wish to keep in mind include:</p>
<ul>
<li>-v: gives more verbose output, including the names of the tests being executed</li>
<li>-s or -nocapture: allows output of print statements, which are normally captured and hidden while executing tests. Useful for debugging.</li>
<li>--nologcapture: allows output of logging information</li>
<li>--rednose: an optional plugin, which can be downloaded here, but provides colored output for the tests.</li>
<li>--tags=TAGS: allows you to place an @TAG above a specific test to only execute those, rather than the entire test suite.</li>
</ul>
<h1>Embedding nose inside Python</h1>
<p>It's very convenient to embed nose inside a Python script. <br />
This lets us create higher level test
tools besides letting the developer add testing to an existing tool.</p>
<div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">nose</span>
    <span class="n">nose</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;recipe12&quot;</span><span class="p">,</span> <span class="s">&quot;--verbosity=2&quot;</span><span class="p">])</span>
</pre></div>


<p>instead of</p>
<div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">unittest</span>
    <span class="kn">from</span> <span class="nn">recipe12</span> <span class="kn">import</span> <span class="o">*</span>
    <span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span>\
    <span class="n">ShoppingCartTest</span><span class="p">)</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
</pre></div>


<h1>Writing nose extension</h1>
<p>see examples</p>
<h1>py.test</h1>
<p><a href="http://pytest.org/">py.test</a></p>
<p>pytest is a mature full-featured Python testing tool that helps you write better programs.</p>
<h1>py.test example</h1>
<div class="highlight"><pre><span class="c"># content of test_sample.py</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">test_answer</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">func</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>


<p>That’s it. You can execute the test function now:</p>
<p>more examples and usages,</p>
<p><a href="http://pytest.org/latest/example/index.html">click here</a></p>
<h1>Reporter</h1>
<p><a href="http://tungwaiyip.info/software/HTMLTestRunner.html">HTMLTestRunner</a></p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">suite</span><span class="p">():</span>
    <span class="n">modules_to_test</span> <span class="o">=</span> <span class="p">(</span>
                      <span class="c"># &#39;PreparData&#39;,</span>
                        <span class="s">&#39;tc_my_test1&#39;</span><span class="p">,</span>
                        <span class="s">&#39;tc_my_test2&#39;</span>
                        <span class="c"># and so on</span>
                      <span class="p">)</span>
    <span class="n">alltests</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="nb">__import__</span><span class="p">,</span> <span class="n">modules_to_test</span><span class="p">):</span>
        <span class="n">alltests</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">findTestCases</span><span class="p">(</span><span class="n">module</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">alltests</span>

<span class="n">fp</span> <span class="o">=</span> <span class="nb">file</span><span class="p">(</span><span class="n">report_path</span> <span class="o">+</span> <span class="n">report_name</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span>
<span class="n">runner</span> <span class="o">=</span> <span class="n">HTR</span><span class="o">.</span><span class="n">HTMLTestRunner</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="n">fp</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">)</span>

<span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">([</span><span class="n">selectcase</span><span class="o">.</span><span class="n">suite</span><span class="p">()]))</span>
</pre></div>


<h1>OpenStack's Unit Testing</h1>
<ul>
<li>
<p>Unit testing Framework</p>
<ul>
<li>from unittest to testtools, which support fixtures pattern</li>
</ul>
</li>
<li>
<p>Tests management</p>
<ul>
<li>from nose to testr, which support Parallel testing and more Test automation using tox,   </li>
<li>which, based on virtualenv, can easily configure for different environment and merge CI.</li>
</ul>
</li>
</ul>
<h1>Other things about Code Quality</h1>
<ul>
<li>PEP8</li>
<li>Pylint, pyflakes</li>
<li>docstr</li>
</ul>
<h1>Learn more to</h1>
<ul>
<li>http://docs.python.org/2/library/unittest.html</li>
<li>http://www.diveintopython.net/unit_testing</li>
<li>http://cgoldberg.github.io/python-unittest-tutorial/</li>
<li>http://code.tutsplus.com/tutorials/beginning-test-driven-development-in-python--net-30137</li>
<li>http://halfcooked.com/presentations/pyconau2013/why_I_use_pytest.html</li>
<li>http://stackoverflow.com/questions/191673/preferred-python-unit-testing-framework</li>
</ul>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'xgao'; // required: replace example with your forum shortname

                    var disqus_identifier = 'python-unittest';
                var disqus_url = 'http://idumpling.github.io/python-unittest.html';

            var disqus_config = function () {
                this.language = "zh";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="http://twitter.com/xgao622"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                    <li class="list-group-item"><a href="https://github.com/idumpling"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                  </ul>
                </li>



                <li class="list-group-item"><a href="http://idumpling.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                    <ul class="list-group " id="tags">
                        <li class="list-group-item tag-1">
                            <a href="http://idumpling.github.io/tag/python.html">
                                python
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="http://idumpling.github.io/tag/autotest.html">
                                autotest
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://idumpling.github.io/tag/unittest.html">
                                unittest
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://idumpling.github.io/tag/travel.html">
                                travel
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://idumpling.github.io/tag/selenium.html">
                                selenium
                            </a>
                        </li>
                    </ul>
                </li>    

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2014 Xin Gao
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://idumpling.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://idumpling.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://idumpling.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'xgao'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
</body>
</html>